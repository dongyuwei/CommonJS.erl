CommonJS.erl
=====
A CommonJS Packager in Erlang.

# Project Goal: speed, speed, and speed!
1. Bundle Common JS modules concurrently using Erlang actors. It is expected to work like [browserify](https://github.com/substack/node-browserify).
2. Watch and incrementally rebuild Common JS modules concurrently using Erlang actors. It is expected to work like [watchify](https://github.com/substack/watchify).
3. It's expected to be a tiny and simple CommonJS Packager. I do't plan to implement all the features like [browserify](https://github.com/substack/node-browserify).

## Status
1. The core features of Common Js packager/loader was done(It can bundle the `tests/commonjs/entry.js` now). 
2. Watch and rebuild feature was done (if any module file changed, entry file will be rebuilt automatically).
3. Still work in progress. 

The project structure was generated by `rebar3 new lib commonjs`


Build
-----

    $ rebar3 compile

API
-----
1. `commonjs:bundle_single_js/1`
2. `commonjs:bundle_js_in_dir/2`

Test in erl shell:
-----
    $ rebar3 shell
    $ os:cmd("rm ./tests/**/*-bundled.js").
    $ r3:do(compile).
    $ commonjs:bundle_js_in_dir("./tests", false).
    $ {ok, Content} = file:read_file("tests/commonjs/entry.js.txt").
    $ Content =:= list_to_binary(os:cmd("node ./tests/commonjs/entry.js-bundled.js")).
